@model VideoStreamer.Models.LogFileViewModels.LogFileModel;

@{
}
<head>   
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<div id="log-file"></div> 

<script src="~/js/GetPlayerLogFile.js" asp-append-version="true"></script>
<script>
    var channel = "@Model.Channel";
    setInterval(function updateFunction()
    {
         $.ajax(
         {
            type: "POST",
            url: "/api/LogFile/GetData?channel=@Model.Channel&hlsListSize=@Model.HlsListSize",
            dataType: 'json',
            contentType: 'application/json',

            success: function(result)
            {
                document.getElementById("log-file").innerHTML = result.content;
            },
            error: function(xhr, textStatus, error)
            {
                console.log(result);
            },
          })
      }, @Model.Interval);

</script>